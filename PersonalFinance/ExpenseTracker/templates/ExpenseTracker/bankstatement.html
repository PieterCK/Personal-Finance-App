{% extends "ExpenseTracker/layout.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% load tailwind_filters %}
{% block content %}

<div class="page_view" id="home_view">
    This is home page
</div>
<div id="bankstatement_view" class="bg-transparent">
    <div class="embed-responsive embed-responsive-21by9 pdf_preview border rounded-lg focus:shadow-outline rounded" id="pdf_preview">
        <embed class="embed-responsive-item rounded-lg" ></embed>
    </div>
    <div class="embed-responsive embed-responsive-21by9 border  rounded-lg" id="parsed_result_div">
      <embed id="parsed_result_preview rounded-lg"></embed>
    </div>
    <div>
        <form id="bankstatement_form" enctype="multipart/form-data">  
            {% csrf_token %}  
            {% crispy form %}  
        </form>
        <div id="parse_value_panel">
          <div class="w-full ">
            <div class="overflow-x-auto">
              <table class="min-w-full rounded-lg overflow-hidden">
                <thead class="rounded bg-green-500">
                  <tr >
                    <th class="py-2 px-4 bg-green-500 text-left">Bank</th>
                    <th class="py-2 px-4 bg-green-500 text-left">Known Transaction info</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="py-2 px-4 border-b" id="parse_value_panel_bank_code">BCA</td>
                    <td class="py-2 px-4 border-b" id="parse_value_panel_transaction_info">
                      This is a long text that should not overlap with the first column. It will automatically wrap to a new line if necessary.
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          
        </div>  
        <form id="diagnose_form">  
          {% csrf_token %}  
          {{ diagnose_form|crispy }}  
          <button type="submit" class="btn btn-primary" value="Submit">
        </form>
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" id ="submit_parsed_data">
          Submit
        </button>  
    </div>
</div>
<div class="page_view" id="guide_view">
    This is guide page
</div>
<div class="page_view" id="expensetracker_view">
    This is expense tracker page
</div>
{% endblock content %}

{% block script %}
    {{ show_pdf|json_script:"show_pdf" }}
    <script>
     var bankStatementUrl = "{% url 'process_bankstatement' %}";
    </script>
    <script src="{% static 'ExpenseTracker/utils.js' %}"></script>
    <script src="{% static 'ExpenseTracker/ExpenseTracker.js' %}"></script>
{% endblock %}
